# JPYC_Hackathon_2025

[![CI](https://github.com/mashharuki/JPYC_Hackathon_2025/actions/workflows/ci.yml/badge.svg)](https://github.com/mashharuki/JPYC_Hackathon_2025/actions/workflows/ci.yml)

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

![Solidity](https://img.shields.io/badge/Solidity-%23363636.svg?style=flat&logo=solidity&logoColor=white)
![Hardhat](https://img.shields.io/badge/Hardhat-yellow?style=flat)
![OpenZeppelin](https://img.shields.io/badge/OpenZeppelin-4E5EE4?logo=openzeppelin&logoColor=white)
![Next JS](https://img.shields.io/badge/Next-black?style=flat&logo=next.js&logoColor=white)
![React](https://img.shields.io/badge/React-20232A?style=flat&logo=react&logoColor=61DAFB)
![TypeScript](https://img.shields.io/badge/typescript-%23007ACC.svg?style=flat&logo=typescript&logoColor=white)
![TailwindCSS](https://img.shields.io/badge/tailwindcss-%2338B2AC.svg?style=flat&logo=tailwind-css&logoColor=white)
![Supabase](https://img.shields.io/badge/Supabase-3ECF8E?style=flat&logo=supabase&logoColor=white)
![Vercel](https://img.shields.io/badge/Vercel-000000?style=flat&logo=vercel&logoColor=white)

## Web URL

[Vercel - Web App URL](https://jpyc-hackathon-2025-web-app.vercel.app/)

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**Innocence Ledger** ã¯ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³æŠ€è¡“ã¨ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ã‚³ã‚¤ãƒ³ï¼ˆJPYCï¼‰ã‚’æ´»ç”¨ã—ãŸå†¤ç½ªè¢«å®³è€…ã¸ã®é€æ˜æ€§ã®ã‚ã‚‹æ”¯æ´ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚

### è§£æ±ºã™ã‚‹èª²é¡Œ

å¾“æ¥ã®å†¤ç½ªæ”¯æ´ã§ã¯ã€ä»¥ä¸‹ã®å•é¡ŒãŒã‚ã‚Šã¾ã—ãŸï¼š

- **é€æ˜æ€§ã®æ¬ å¦‚**: å¯„ä»˜é‡‘ãŒã©ã“ã«ãƒ»ã„ã¤ãƒ»ä½•ã«ä½¿ã‚ã‚ŒãŸã‹ä¸æ˜
- **ä¿¡é ¼æ€§ã®å•é¡Œ**: æ”¯æ´å›£ä½“ã¸ã®ä¿¡é ¼ã«ä¾å­˜ã™ã‚‹ä¸­å¤®é›†æ¨©çš„æ§‹é€ 
- **è³‡é‡‘ä¸è¶³**: å†¤ç½ªå½“äº‹è€…ã®ç¤¾ä¼šå¾©å¸°ãƒ»å†å¯©è«‹æ±‚ãƒ»å¼è­·å£«è²»ç”¨ç­‰ã®æ…¢æ€§çš„ãªè³‡é‡‘é›£
- **ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã®æ‡¸å¿µ**: å¯„ä»˜è€…ã®åŒ¿åæ€§ãŒä¿è¨¼ã•ã‚Œãªã„

### æä¾›ã™ã‚‹ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

Innocence Ledger ã¯ã€ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®é€æ˜æ€§ã¨ Semaphore ã®ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜æŠ€è¡“ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€**å®Œå…¨ãªé€æ˜æ€§ã¨å®Œå…¨ãªåŒ¿åæ€§ã‚’åŒæ™‚ã«å®Ÿç¾**ã—ã¾ã™ã€‚

- âœ… ã™ã¹ã¦ã®å–å¼•ãŒã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³ã§æ¤œè¨¼å¯èƒ½
- âœ… ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜ã«ã‚ˆã‚‹å®Œå…¨åŒ¿åå¯„ä»˜
- âœ… MultiSig ã«ã‚ˆã‚‹å®‰å…¨ãªè³‡é‡‘ç®¡ç†
- âœ… ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªæ”¯æ´ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯

## ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦å›³

![](./docs/overview2.png)

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

Innocence Ledger ã¯3ã¤ã®ã‚³ã‚¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ï¼š

### 1. **SemaphoreDonationï¼ˆåŒ¿åå¯„ä»˜ï¼‰**

- Semaphore Protocol ã«ã‚ˆã‚‹å®Œå…¨åŒ¿åå¯„ä»˜
- Groth16 ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜ã§å¯„ä»˜è€…ã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã‚’ä¿è­·
- nullifier ã«ã‚ˆã‚ŠäºŒé‡å¯„ä»˜ã‚’é˜²æ­¢
- ã™ã¹ã¦ã®å¯„ä»˜ã¯ã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³ã§è¨˜éŒ²ãƒ»æ¤œè¨¼å¯èƒ½

### 2. **InnocentSupportWalletï¼ˆè³‡é‡‘ç®¡ç†ï¼‰**

- 2/2 MultiSig ã«ã‚ˆã‚‹å®‰å…¨ãªè³‡é‡‘ç®¡ç†
- EIP-712 å‹ä»˜ãç½²åã«ã‚ˆã‚‹æ”¹ã–ã‚“é˜²æ­¢
- å—å–äººãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆæ©Ÿèƒ½
- nonce ç®¡ç†ã«ã‚ˆã‚‹ãƒªãƒ—ãƒ¬ã‚¤æ”»æ’ƒé˜²æ­¢

### 3. **Web Applicationï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼‰**

- Next.js 16 + React 19 ã«ã‚ˆã‚‹é«˜é€Ÿãª SPA
- Privy ã«ã‚ˆã‚‹ç°¡å˜ãªã‚¦ã‚©ãƒ¬ãƒƒãƒˆèªè¨¼
- Supabase ã«ã‚ˆã‚‹ã‚±ãƒ¼ã‚¹ç®¡ç†
- Biconomy AA ã«ã‚ˆã‚‹ã‚¬ã‚¹ãƒ¬ã‚¹ãƒ»ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å¯¾å¿œæº–å‚™

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
å¯„ä»˜è€… â†’ [Semaphore Proof] â†’ SemaphoreDonation â†’ JPYCé€é‡‘ â†’ InnocentSupportWallet
                                                                        â†“
æ”¯æ´å¯¾è±¡è€… â† [MultiSigæ‰¿èª] â† WithdrawalForm â† ç®¡ç†è€…ï¼ˆå¼è­·å£«ãƒ»è¦ªæ—ï¼‰
```

## ä¸»è¦ãªç‰¹å¾´

### ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

| ç‰¹å¾´                  | æŠ€è¡“              | åŠ¹æœ                                       |
| --------------------- | ----------------- | ------------------------------------------ |
| **MultiSig è³‡é‡‘ç®¡ç†** | 2/2ç½²å (EIP-712) | å˜ä¸€éšœå®³ç‚¹ã‚’æ’é™¤ã€è³‡é‡‘ã®ä¸æ­£åˆ©ç”¨ã‚’é˜²æ­¢     |
| **ãƒªãƒ—ãƒ¬ã‚¤æ”»æ’ƒé˜²æ­¢**  | nonce ç®¡ç†        | ç½²åã®å†åˆ©ç”¨ã«ã‚ˆã‚‹ä¸æ­£å®Ÿè¡Œã‚’é˜²æ­¢           |
| **å‹ä»˜ãç½²å**        | EIP-712           | ç½²åå†…å®¹ã®æ˜ç¢ºåŒ–ã€ãƒ•ã‚£ãƒƒã‚·ãƒ³ã‚°å¯¾ç­–         |
| **ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆ**    | å—å–äººç®¡ç†        | æ‰¿èªã•ã‚ŒãŸæ”¯æ´å¯¾è±¡è€…ã®ã¿ãŒè³‡é‡‘ã‚’å—ã‘å–ã‚Œã‚‹ |

### ğŸ•µï¸ ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼

| ç‰¹å¾´               | æŠ€è¡“                   | åŠ¹æœ                         |
| ------------------ | ---------------------- | ---------------------------- |
| **å®Œå…¨åŒ¿åå¯„ä»˜**   | Semaphore (Groth16 ZK) | å¯„ä»˜è€…ã®èº«å…ƒã‚’å®Œå…¨ã«éš è”½     |
| **äºŒé‡å¯„ä»˜é˜²æ­¢**   | nullifier              | åŒ¿åæ€§ã‚’ä¿ã¡ãªãŒã‚‰ä¸æ­£ã‚’é˜²æ­¢ |
| **ã‚ªãƒ•ãƒã‚§ãƒ¼ãƒ³ID** | Semaphore Identity     | å€‹äººæƒ…å ±ã‚’ãƒã‚§ãƒ¼ãƒ³å¤–ã§ç®¡ç†   |

### ğŸ“Š é€æ˜æ€§

| ç‰¹å¾´                 | æŠ€è¡“                 | åŠ¹æœ                           |
| -------------------- | -------------------- | ------------------------------ |
| **ã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²** | Ethereum (Base L2)   | ã™ã¹ã¦ã®å–å¼•ã‚’å…¬é–‹æ¤œè¨¼å¯èƒ½     |
| **å¯„ä»˜å±¥æ­´**         | ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°         | è³‡é‡‘ã®æµã‚Œã‚’è¿½è·¡å¯èƒ½           |
| **æ®‹é«˜ç¢ºèª**         | ERC20 æ¨™æº–           | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æ®‹é«˜ã‚’ç¢ºèª       |
| **ç›£æŸ»å¯èƒ½æ€§**       | ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ | ã‚³ãƒ¼ãƒ‰ã¨ãƒ‡ãƒ¼ã‚¿ã‚’èª°ã§ã‚‚æ¤œè¨¼å¯èƒ½ |

### ğŸŒ ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£

- **ã‚°ãƒ­ãƒ¼ãƒãƒ«å¯¾å¿œ**: å›½å¢ƒã‚’è¶ŠãˆãŸæ”¯æ´ã‚’å¯èƒ½ã«
- **ä½ã‚³ã‚¹ãƒˆ**: Base L2 ã«ã‚ˆã‚‹ã‚¬ã‚¹ä»£å‰Šæ¸›
- **ç°¡å˜èªè¨¼**: Privy ã«ã‚ˆã‚‹ç°¡å˜ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæ¥ç¶š
- **ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ**: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³

## æ©Ÿèƒ½ä¸€è¦§è¡¨

| æ©Ÿèƒ½ã‚«ãƒ†ã‚´ãƒª   | æ©Ÿèƒ½å                | èª¬æ˜                                         | æ‹…å½“ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ/ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ        |
| -------------- | --------------------- | -------------------------------------------- | -------------------------------------- |
| **ã‚±ãƒ¼ã‚¹ç®¡ç†** | ã‚±ãƒ¼ã‚¹ä¸€è¦§è¡¨ç¤º        | å†¤ç½ªè¢«å®³è€…ã®æ”¯æ´ã‚±ãƒ¼ã‚¹ä¸€è¦§ã‚’è¡¨ç¤º             | CaseDashboard (Supabase)               |
|                | ã‚±ãƒ¼ã‚¹è©³ç´°è¡¨ç¤º        | å€‹åˆ¥ã‚±ãƒ¼ã‚¹ã®è©³ç´°æƒ…å ±ã€é€²æ—çŠ¶æ³ã€æ”¯æ´é¡ã‚’è¡¨ç¤º | CaseDashboardClient                    |
| **åŒ¿åå¯„ä»˜**   | Semaphoreè¨¼æ˜ä»˜ãå¯„ä»˜ | ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜ã«ã‚ˆã‚‹å®Œå…¨åŒ¿åã®å¯„ä»˜æ©Ÿèƒ½         | SemaphoreDonation                      |
|                | JPYCå¯„ä»˜              | JPYCãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½¿ã£ãŸå¯„ä»˜                     | DonationForm + SemaphoreDonation       |
|                | å¯„ä»˜å±¥æ­´è¨˜éŒ²          | å¯„ä»˜ã®ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ç¢ºä¿ï¼ˆåŒ¿åæ€§ã¯ä¿æŒï¼‰   | SemaphoreDonation                      |
| **è³‡é‡‘ç®¡ç†**   | MultiSigã‚¦ã‚©ãƒ¬ãƒƒãƒˆ    | 2ç½²åã«ã‚ˆã‚‹å®‰å…¨ãªè³‡é‡‘ç®¡ç†                    | InnocentSupportWallet                  |
|                | å—å–äººãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆ  | æ”¯æ´å¯¾è±¡è€…ã®ç™»éŒ²ãƒ»ç®¡ç†                       | InnocentSupportWallet                  |
|                | å¼•ãå‡ºã—æ©Ÿèƒ½          | ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆç™»éŒ²è€…ã¸ã®è³‡é‡‘é€é‡‘             | WithdrawalForm + InnocentSupportWallet |
|                | æ®‹é«˜ç¢ºèª              | ã‚¦ã‚©ãƒ¬ãƒƒãƒˆãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®JPYCæ®‹é«˜è¡¨ç¤º           | BalanceDisplay                         |
| **èªè¨¼**       | ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæ¥ç¶š        | PrivyçµŒç”±ã®ã‚¦ã‚©ãƒ¬ãƒƒãƒˆèªè¨¼                    | Auth (Privy)                           |
|                | ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†        | ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã®ç®¡ç†                           | PrivyProvider                          |

## æ©Ÿèƒ½ã”ã¨ã®å‡¦ç†ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³

### 1. åŒ¿åå¯„ä»˜ãƒ•ãƒ­ãƒ¼ (Semaphore + JPYC)

```mermaid
sequenceDiagram
    participant User as å¯„ä»˜è€…
    participant Frontend as DonationForm
    participant Semaphore as Semaphore Protocol
    participant Contract as SemaphoreDonation
    participant Wallet as InnocentSupportWallet
    participant JPYC as JPYCãƒˆãƒ¼ã‚¯ãƒ³

    User->>Frontend: å¯„ä»˜é¡ã‚’å…¥åŠ›
    User->>Semaphore: Identityç”Ÿæˆ & Proofä½œæˆ
    Semaphore-->>Frontend: ZK Proof
    Frontend->>Contract: donateWithProof(proof, amount)
    Contract->>Contract: Proofæ¤œè¨¼
    Contract->>JPYC: transferFrom(å¯„ä»˜è€… â†’ Wallet)
    JPYC-->>Wallet: JPYCè»¢é€å®Œäº†
    Contract->>Contract: å¯„ä»˜è¨˜éŒ²ä¿å­˜ (nullifier)
    Contract-->>Frontend: å¯„ä»˜æˆåŠŸ
    Frontend-->>User: å®Œäº†é€šçŸ¥
```

### 2. MultiSigå¼•ãå‡ºã—ãƒ•ãƒ­ãƒ¼ (EIP-712ç½²å)

```mermaid
sequenceDiagram
    participant Owner1 as ç®¡ç†è€…1 (å¼è­·å£«)
    participant Owner2 as ç®¡ç†è€…2 (è¦ªæ—)
    participant Frontend as WithdrawalForm
    participant Wallet as InnocentSupportWallet
    participant JPYC as JPYCãƒˆãƒ¼ã‚¯ãƒ³
    participant Recipient as å—å–äºº

    Owner1->>Frontend: å¼•ãå‡ºã—ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ
    Frontend->>Owner1: EIP-712ç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆ
    Owner1-->>Frontend: ç½²å1
    Frontend->>Owner2: EIP-712ç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆ
    Owner2-->>Frontend: ç½²å2
    Frontend->>Wallet: withdraw(recipient, amount, [sig1, sig2])
    Wallet->>Wallet: 2ç½²åæ¤œè¨¼
    Wallet->>Wallet: ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆç¢ºèª
    Wallet->>JPYC: transfer(Wallet â†’ Recipient)
    JPYC-->>Recipient: JPYCé€é‡‘å®Œäº†
    Wallet-->>Frontend: å¼•ãå‡ºã—æˆåŠŸ
    Frontend-->>Owner1: å®Œäº†é€šçŸ¥
    Frontend-->>Owner2: å®Œäº†é€šçŸ¥
```

### 3. å—å–äººãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆç®¡ç†ãƒ•ãƒ­ãƒ¼

```mermaid
sequenceDiagram
    participant Owner1 as ç®¡ç†è€…1
    participant Owner2 as ç®¡ç†è€…2
    participant Frontend as ç®¡ç†ç”»é¢
    participant Wallet as InnocentSupportWallet

    Owner1->>Frontend: å—å–äººè¿½åŠ ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
    Frontend->>Owner1: EIP-712ç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆ
    Owner1-->>Frontend: ç½²å1
    Frontend->>Owner2: EIP-712ç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆ
    Owner2-->>Frontend: ç½²å2
    Frontend->>Wallet: addRecipient(address, [sig1, sig2], nonce)
    Wallet->>Wallet: 2ç½²åæ¤œè¨¼
    Wallet->>Wallet: nonceæ¤œè¨¼ (ãƒªãƒ—ãƒ¬ã‚¤æ”»æ’ƒé˜²æ­¢)
    Wallet->>Wallet: ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆã«è¿½åŠ 
    Wallet-->>Frontend: è¿½åŠ æˆåŠŸ
    Frontend-->>Owner1: å®Œäº†é€šçŸ¥
    Frontend-->>Owner2: å®Œäº†é€šçŸ¥
```

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ

| æŠ€è¡“                   | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€”                                          |
| ---------------------- | ---------- | --------------------------------------------- |
| Solidity               | ^0.8.23    | ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆé–‹ç™ºè¨€èª                  |
| Hardhat                | ^2.20.1    | é–‹ç™ºç’°å¢ƒãƒ»ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯                |
| ethers.js              | ^6.13.4    | Ethereumãƒ©ã‚¤ãƒ–ãƒ©ãƒª                            |
| OpenZeppelin Contracts | 5.4.0      | ERC20, EIP-712, ECDSAç­‰ã®æ¨™æº–å®Ÿè£…             |
| EIP-712                | -          | æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã®å‹ä»˜ãç½²å (MultiSigç½²å)       |
| ECDSA                  | -          | æ¥•å††æ›²ç·šãƒ‡ã‚¸ã‚¿ãƒ«ç½²åã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  (ç½²åæ¤œè¨¼)   |
| Semaphore Protocol     | 4.14.0     | ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜ (Groth16) ã«ã‚ˆã‚‹ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­· |
| TypeChain              | ^8.3.0     | TypeScriptå‹å®šç¾©ç”Ÿæˆ                          |

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

| æŠ€è¡“            | ãƒãƒ¼ã‚¸ãƒ§ãƒ³     | ç”¨é€”                                              |
| --------------- | -------------- | ------------------------------------------------- |
| Next.js         | ^16.1.1        | React ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ (App Router)                 |
| React           | ^19.2.3        | UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª                                      |
| TypeScript      | ^5             | å‹å®‰å…¨ãªé–‹ç™º                                      |
| Tailwind CSS    | ^3.4.0         | ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°                                      |
| Privy           | ^3.10.0        | ã‚¦ã‚©ãƒ¬ãƒƒãƒˆèªè¨¼ãƒ»ãƒ­ã‚°ã‚¤ãƒ³                          |
| Biconomy        | 4.5.7 / 1.1.20 | Account Abstraction (AA) / ã‚¹ãƒãƒ¼ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç† |
| Supabase        | 2.89.0         | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ (PostgreSQL)                         |
| ethers.js       | ^6.13.4        | ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³é€£æº                              |
| Semaphore Utils | 4.14.0         | Identityãƒ»Proofç”Ÿæˆ                               |
| React Hook Form | ^7.62.0        | ãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†                                      |
| Zod             | ^3.24.1        | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³                                    |
| React Hot Toast | ^2.6.0         | é€šçŸ¥UI                                            |

### ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤

| æŠ€è¡“           | ç”¨é€”                       |
| -------------- | -------------------------- |
| Vercel         | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° |
| Base Sepolia   | ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆ (L2 Ethereum) |
| GitHub Actions | CI/CD                      |
| Lefthook       | Git Hooks (lint, format)   |

### ãƒ†ã‚¹ãƒˆãƒ»å“è³ªç®¡ç†

| æŠ€è¡“                   | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€”                             |
| ---------------------- | ---------- | -------------------------------- |
| Jest                   | ^30.2.0    | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ                   |
| @testing-library/react | ^16.3.1    | Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ        |
| Hardhat Test           | -          | ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãƒ†ã‚¹ãƒˆ       |
| Solidity Coverage      | ^0.8.1     | ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®š                   |
| ESLint                 | ^9.39.2    | é™çš„è§£æ (JavaScript/TypeScript) |
| Solhint                | ^6.0.2     | é™çš„è§£æ (Solidity)              |
| Prettier               | ^3.2.5     | ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ               |

## ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ

### Base Sepolia (Testnet)

| ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆå            | ã‚¢ãƒ‰ãƒ¬ã‚¹                                                                                                                      | èª¬æ˜                                         |
| ------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------- |
| **SemaphoreVerifier**     | [0xFA472F6f9529198AFBF55D2e9Ce02C8CCdd92368](https://sepolia.basescan.org/address/0xFA472F6f9529198AFBF55D2e9Ce02C8CCdd92368) | Semaphore ZK Proofæ¤œè¨¼ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ (Groth16) |
| **JPYCãƒˆãƒ¼ã‚¯ãƒ³**          | [0xda683fe053b4344F3Aa5Db6Cbaf3046F7755e5E1](https://sepolia.basescan.org/address/0xda683fe053b4344F3Aa5Db6Cbaf3046F7755e5E1) | JPYCã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ã‚³ã‚¤ãƒ³ (ERC20)                 |
| **InnocentSupportWallet** | [0x3f916bADD44312c30D1C3eb57a37ef3D288009Bc](https://sepolia.basescan.org/address/0x3f916bADD44312c30D1C3eb57a37ef3D288009Bc) | MultiSigè³‡é‡‘ç®¡ç†ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ (2/2ç½²å)         |
| **SemaphoreDonation**     | [0xabeaFB3246F8460Ab5080f22374645d6edf9D827](https://sepolia.basescan.org/address/0xabeaFB3246F8460Ab5080f22374645d6edf9D827) | åŒ¿åå¯„ä»˜ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ (Semaphoreçµ±åˆ)         |

## å‹•ã‹ã—æ–¹

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

- ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

  ```bash
  yarn
  ```

- ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ç’°å¢ƒå¤‰æ•°ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

  ```bash
  cp pkgs/contract/.env.example pkgs/contract/.env
  ```

  **å¿…è¦ãªç’°å¢ƒå¤‰æ•°ï¼ˆ`pkgs/contracts/.env`ï¼‰:**

  ```bash
  # ãƒ‡ãƒ—ãƒ­ã‚¤ç”¨ã®ç§˜å¯†éµ
  PRIVATE_KEY=your_private_key_here

  # BaseScan API Key (ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆæ¤œè¨¼ç”¨)
  BASESCAN_API_KEY=your_basescan_api_key

  # RPC URL
  BASE_SEPOLIA_RPC_URL=https://sepolia.base.org

  # MultiSig Owner ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆå¼è­·å£«ãƒ»è¦ªæ—ï¼‰
  OWNER1_ADDRESS=0x...
  OWNER2_ADDRESS=0x...
  ```

- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ç’°å¢ƒå¤‰æ•°ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

  ```bash
  cp pkgs/web-app/.env.example pkgs/web-app/.env.local
  ```

  **å¿…è¦ãªç’°å¢ƒå¤‰æ•°ï¼ˆ`pkgs/web-app/.env.local`ï¼‰:**

  ```bash
  # Privy èªè¨¼
  NEXT_PUBLIC_PRIVY_APP_ID=your_privy_app_id

  # Supabase
  NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
  NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

  # ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹
  NEXT_PUBLIC_JPYC_TOKEN_ADDRESS=0xda683fe053b4344F3Aa5Db6Cbaf3046F7755e5E1
  NEXT_PUBLIC_SEMAPHORE_DONATION_ADDRESS=0x0450e3d44EbAB0eEe27aB065C3C3956Ac6Eb65f2
  NEXT_PUBLIC_INNOCENT_SUPPORT_WALLET_ADDRESS=0xdc241458C483BDa3fB06d22B245Ca6823c0f4b8b

  # ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š
  NEXT_PUBLIC_CHAIN_ID=84532  # Base Sepolia
  NEXT_PUBLIC_RPC_URL=https://sepolia.base.org
  ```

### ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆé–¢é€£

- ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«

  ```bash
  yarn contracts run compile
  ```

- ãƒ†ã‚¹ãƒˆ

  ```bash
  yarn contracts run test
  ```

- ãƒ‡ãƒ—ãƒ­ã‚¤

  ```bash
  yarn contracts deploy --logs true --network baseSepolia
  ```

- wallet:addRecipient

  ```bash
  yarn contracts wallet:addRecipient --wallet 0x3f916bADD44312c30D1C3eb57a37ef3D288009Bc --nonce 3 --recipient 0x51908F598A5e0d8F1A3bAbFa6DF76F9704daD072 --logs true --network baseSepolia
  ```

- wallet:removeRecipient

  ```bash
  yarn contracts wallet:removeRecipient --wallet 0x3f916bADD44312c30D1C3eb57a37ef3D288009Bc --nonce 2 --recipient 0x51908F598A5e0d8F1A3bAbFa6DF76F9704daD072 --logs true --network baseSepolia
  ```

- wallet:withdraw

  ```bash
  yarn contracts wallet:withdraw --recipient 0x51908F598A5e0d8F1A3bAbFa6DF76F9704daD072 --amount 1 --network baseSepolia
  ```

- donation:donateWithProof

  ```bash
  yarn contracts donation:donateWithProof --amount 1 --logs true --network baseSepolia
  ```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–¢é€£

- ãƒ“ãƒ«ãƒ‰

  ```bash
  yarn web-app run build
  ```

- èµ·å‹•

  ```bash
  yarn web-app run dev
  ```

## å‹•ã‹ã—æ–¹(JPYCv2ç·¨)

æœªå¯¾å¿œã®ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆã§æ¤œè¨¼ã™ã‚‹å ´åˆã«ã¯è‡ªåˆ†ã§**jpycv2**ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹å¿…è¦ãŒã‚ã‚‹

`external/jpycv2`ãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¦ä»¥ä¸‹ã®ã“ã¨ã‚’è¡Œã†

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
cp .env.example .env
```

```bash
npm i
```

### ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
npm run deploy -- --network baseSepolia
```

### å¿…è¦ãªæ¨©é™ã‚’ç‰¹å®šã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ä»˜ä¸

```bash
npm run configure-minter -- --minter 0x51908F598A5e0d8F1A3bAbFa6DF76F9704daD072 --allowance 1000000000000000000000000000 --network baseSepolia
```

### ãƒŸãƒ³ãƒˆ

```bash
npm run mint -- --to 0x51908F598A5e0d8F1A3bAbFa6DF76F9704daD072 --amount 1000 --network baseSepolia
```

### é€é‡‘

```bash
npm run transfer -- --to 0x1295BDc0C102EB105dC0198fdC193588fe66A1e4 --amount 5 --decimals 18 --network baseSepolia
```

### Burn

```bash
npm run burn -- --amount 100 --network baseSepolia
```
